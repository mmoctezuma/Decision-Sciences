# Task 3 – Fermi Problem: 50% EV Adoption Scenario

## Objective
Estimate the impact on global CO₂ emissions if **50% of the world’s population adopted electric vehicles (EVs)**.  
Answer the business case question:  
**“Which countries would see the most significant reduction in emissions, and by how much?”**

---

## Methodology

1. **Data sources**
   - `data/processed/wide_clean.csv`: World Bank indicators including total and transport CO₂ emissions, population, and electricity generation mix.
   - `data/processed/ev_adoption_v2.csv`: Total motor vehicles, current EV adoption rates per country.

2. **Key indicators integrated**
   - Vehicles per capita (from total vehicles and population).
   - Electricity generation mix: coal, gas, oil, nuclear, hydro, renewables.
   - Current EV adoption rates.
   This data come form [Electric car sales – Our World in Data](https://ourworldindata.org/electric-car-sales#:~:text=Sales%20of%20electric%20cars%20started%20from%20a%20low,you%20can%20explore%20these%20trends%20across%20the%20world.)
   In the folder notebooks is a notebook with the step by step for inputed data for EV.

3. **Scenario definition**
   - Target EV adoption = **50% of the population** (net of current EV share).
   - ICE average = **180 gCO₂/km**.
   - EV energy use = **0.18 kWh/km**.
   - Annual mileage = **12,000 km/vehicle**.
   - Grid emission intensity (gCO₂/kWh) computed from national shares × factors:
     - Coal 900, Gas 450, Oil 700, Nuclear 12, Hydro 10, Renewables 50. (From wikipedia and other sources)
   In the script the scenario target, and the above variables can be change

4. **Estimation process**
   - Compute EV gCO₂/km = (grid gCO₂/kWh) × 0.18 kWh/km.
   - Displaced km = (vehicles × 12,000 km) × (0.50 − current EV share, floored at 0).
   - Avoided CO₂ (Mt) = displaced km × max(ICE − EV, 0) / 1000 / 1e6.
   - **Transport cap:** avoided CO₂ ≤ transport CO₂; if missing, cap = **20% of total CO₂**.
   - Aggregate globally and by country.

---

## How to Run

```bash
python -m models.ev50_scenario \
  --wide_csv data/processed/wide_clean.csv \
  --ev_csv data/processed/ev_adoption_v2.csv \
  --outdir model_results/ev50 \
  --target_share 0.50 \
  --ice_g_per_km 180 \
  --ev_kwh_per_km 0.18 \
  --km_per_vehicle 12000 \
  --transport_cap_pct 0.20 \
  --top_n 15 \
  --log_level INFO
```

**Outputs** in `model_results/ev50/`:

- [`ev50_results.csv`](../model_results/ev50/ev50_results.csv) — results without cap  
- [`ev50_results_capped.csv`](../model_results/ev50/ev50_results_capped.csv) — results with transport cap  
- [`ev50_sensitivity_capped.csv`](../model_results/ev50/ev50_sensitivity_capped.csv) — global sensitivity grid  
- [`ev50_top_abs.csv`](../model_results/ev50/ev50_top_abs.csv) — top countries by absolute reduction  
- [`ev50_top_pct.csv`](../model_results/ev50/ev50_top_pct.csv) — top countries by % reduction of total CO₂  

---

## Results

### Global Impact (Baseline)
- **~2.17 GtCO₂/year** avoided under baseline assumptions (ICE = 180 g/km; 12,000 km/year).  
- Many countries hit the **transport CO₂ cap**, which bounds the achievable reduction.

---

### 2) Sensitivity Analysis: 50% Adoption in Each Country

| Annual km/vehicle | ICE gCO₂/km | Global Reduction (GtCO₂) |
|-------------------|-------------|---------------------------|
| 10,000            | 150         | 1.56 |
| 10,000            | 180         | 2.17 |
| 10,000            | 200         | 2.19 |
| 12,000            | 150         | 1.56 |
| 12,000            | 180         | 2.17 |
| 12,000            | 200         | 2.19 |
| 15,000            | 150         | 1.56 |
| 15,000            | 180         | 2.17 |
| 15,000            | 200         | 2.19 |

[Full sensitivity table → `ev50_sensitivity_capped.csv`](../model_results/ev50/ev50_sensitivity_capped.csv)

**Insight:** Results are much **more sensitive to ICE efficiency** (150 vs. 200 g/km) than to mileage (10k–15k km), since transport caps bind in many countries.

---

### 3) Countries with the Most Significant Reductions

#### Top by Absolute Reductions (capped, MtCO₂/year)

| Country            | Reduction (MtCO₂) |
|--------------------|-------------------:|
| India              | 339.8 |
| Russian Federation | 261.6 |
| Brazil             | 216.8 |
| Japan              | 179.6 |
| Mexico             | 130.2 |
| Saudi Arabia       | 128.2 |
| Spain              | 92.1 |
| Nigeria            | 57.2 |
| Egypt, Arab Rep.   | 55.1 |
| South Africa       | 48.2 |

[See full file → `ev50_top_abs.csv`](../model_results/ev50/ev50_top_abs.csv)

**Observation:** Countries with **large vehicle fleets** dominate absolute reductions.

#### Top by % of Total CO₂ Reduced *(countries with >50 MtCO₂ total)*

| Country        | % Reduction of Total CO₂ |
|----------------|--------------------------:|
| Brazil         | 45.2% |
| Nigeria        | 43.7% |
| Spain          | 42.4% |
| Libya          | 30.1% |
| Mexico         | 26.7% |
| Argentina      | 25.8% |
| Algeria        | 24.1% |
| Egypt          | 22.1% |
| Saudi Arabia   | 21.9% |
| Pakistan       | 21.6% |

[See full file → `ev50_top_pct.csv`](../model_results/ev50/ev50_top_pct.csv)

**Observation:** Countries where **transport is a large share of national CO₂** exhibit the highest relative gains.

---

## Discussion

### Key Drivers
- **Fleet size** (vehicles per capita and absolute fleet): drives absolute reductions (India, Russia, Brazil).
- **Electricity mix**: cleaner grids increase EV benefit (Brazil, Spain).
- **Transport share of CO₂**: higher transport share → higher % reduction potential.
- **Current EV adoption**: lower current EV share → larger gap to reach the 50% target.

---

### 4) Assumptions and Limitations

1. **Uniform mileage (12,000 km/year)** across countries; real usage varies with income, urban form, and policy.
2. **Single ICE benchmark (180 g/km)**; actual fleet efficiencies differ by region/vehicle segment.
3. **Static electricity mix**; not modeling future grid decarbonization likely **underestimates** long-term EV gains.
4. **Transport CO₂ cap**: where transport CO₂ is missing, cap set to **20% of total CO₂** — conservative proxy.
5. **Population vs. fleet interpretation**: treated “50% of population adopts EVs” as **50% of fleet** due to data granularity; effect sizes would shift with more detailed driver/fleet composition data.

---

## Conclusion
Electrifying **50% of the global fleet** yields roughly **2.2 GtCO₂/year** reduction under conservative caps.  
- **Absolute leaders**: India, Russia, Brazil, Japan, Mexico.  
- **Relative leaders**: Brazil, Nigeria, Spain.  

Results emphasize that **EV adoption + grid decarbonization** is a necessary dual strategy to unlock deeper transport decarbonization.

---

## Reproducibility & Files
- Script: `models/ev50_scenario.py`  
- Inputs:  
  - `data/processed/wide_clean.csv`  
  - `data/processed/ev_adoption_v2.csv`  
- Outputs:  
  - `model_results/ev50/ev50_results.csv`  
  - `model_results/ev50/ev50_results_capped.csv`  
  - `model_results/ev50/ev50_sensitivity_capped.csv`  
  - `model_results/ev50/ev50_top_abs.csv`  
  - `model_results/ev50/ev50_top_pct.csv`  
